<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>First Person Shooter</title>
    <style>
        html,
        body {
            width: 100%;
            height: 100%;
        }

        body {
            background-color: #ffffff;
            margin: 0;
            overflow: hidden;
            font-family: arial;
        }

        #blocker {

            position: absolute;

            width: 100%;
            height: 100%;

            background-color: rgba(0, 0, 0, 0.5);

        }

        #instructions {

            width: 100%;
            height: 100%;

            display: -webkit-box;
            display: -moz-box;
            display: box;

            -webkit-box-orient: horizontal;
            -moz-box-orient: horizontal;
            box-orient: horizontal;

            -webkit-box-pack: center;
            -moz-box-pack: center;
            box-pack: center;

            -webkit-box-align: center;
            -moz-box-align: center;
            box-align: center;

            color: #ffffff;
            text-align: center;

            cursor: pointer;

        }
    </style>
</head>

<body>
    <script src="three.js"></script>
    <script src="PointerLockControls.js"></script>
    <script src="environment.js"></script>
    <script src="map.js"></script>
    <script src="misc.js"></script>
    <script type="text/javascript" src="MTLLoader.js"></script>
    <script type="text/javascript" src="OBJLoader.js"></script>
    <script type="text/javascript" src="jquery-1.9.0.js"></script>

    <div id="blocker">

        <div id="instructions">
            <span style="font-size:40px">Click to play</span>
            <br />
            (W, A, S, D = Move, SPACE = Jump, MOUSE = Look around)
        </div>

    </div>

    <script>
        var camera;
        var controls, time = Date.now();
        var peestol;

        camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 1, 1000);
        controls = new THREE.PointerLockControls(camera);

        checkPointerLock(controls);

        var map = new Map();
        var env = new Environment(camera, controls, map);
        var loader = new THREE.OBJLoader();
        loader.load('resources/flat_pistle.obj', function (geometry) {
            peestol = geometry;
            
            map.scene.add(geometry);
            env.camera.add(geometry);
            geometry.position.x = 4;
            geometry.position.y = -2;
            geometry.position.z = -4;
        });

        env.animate();
    </script>
</body>

</html>